<h1 style='text-align:center'>Chapter 6: Application Security</h1>

Security practitioners should undestand the `SDLC` and its security implications to ensure software is well written and secure throughout its lifespan.

---

# Software Assurance Best Practices

Including security concerns should be done at every stage of the SDLC.

## The Software Development Life Cycle

The `software development life cycle (SDLC)` describes the steps taken in the development of software over its lifetime. SDLC is useful because it provides a consistent framework to structure workflow and provide planning for the process.

## Software Development Phases

1. `Planning` - deciding on whether effort for development should occur and whether there are alternative solutions. Results in a recommendation with a plan to move forward.
2. `Requirements Definition` - if feasible, customer input is needed to determine functionality, what current systems do and don't do, and improvments that are desired. Possibly includes `security requirements definition`.
3. `Design` - design for functionality, architecture, integration points and techniques, dataflows, business processes, etc.
4. `Coding` - coding, testing, and `unit testing` (testing of small components individually to ensure correct functionality).
5. `Testing` - formal testing with customers. Includes integrating components and testing functionality. `User acceptance testing (UAT)` occurs to ensure the users of the software are satisfied.
6. `Trainingn and Transition` - end users are trained. Also called the `acceptance, installation, and deployment` phase.
7. `Operations and Maintenance` - after completion, the project enters the phase for patching, updating, minor modifications, and other work. Usually the longest phase.
8. `Decommissioning` - end of life cycle. Important as it can produce cost savings by shutting down old projects.

Order of theses phases can vary.

### Code Deployment Environments

Multiple environments are usually used.

- `Development Enviornment` - used for developers. May be individual or shared environemnt. This is where the work is initially done.
- `Test Environment` - used for testing without impacting production. `Quality Assurance` takes place here.
- `Staging Environment` - a transition environment for code that has successfully cleared testing and is waiting to be deployed.
- `Production Enviornment` - the live system.

Change management processes are used to move through these enviornments.

## DevSecOps and DevOps

`DevOps` combines software development and IT with the goal of optimizing the SDLC. Done by using a collection of tools to improve the process. Tools include those that help with coding, building, packaging, releasing, and configuring monitoring software.

`DevSecOps` describes security as part of the DevOps model. In this model, security is part of the entire process and is implement throughout the SDLC. Security people here includes the role of threat analysis and communications, planning, tewsting, providing feedback, and ongoing improvements.

### Continuous Integration and Continuous Deployment

`Continuous Integration (CI)` is a development practice that continuosly checks code in a shared repository. The goal is to use automation and scripting to implement automated courses of action that result in continuous delivery of code. Often paired with `continuous deployment (CD)`, which rolls out tested changes in production automatically as soon as they have been tested. This requires `continuous validation` and `continuous monitoring` to ensure vulnerabilities are not introduced.

---

# Designing and Coding for Security

Security can be built in to the SDLC process from the beginning to help ensure more secure software.

## Secure Coding Practices

`OWASP (Open Worldwide Application Security Project)` is one of the best resources for secure coding practices. OWASP top proactive controls include:

- `Define Security Requirements`
- `Leverage Security Frameworks and Libraries`
- `Secure Database Access` - prebuilt SQL queries to prevent injection.
- `Encode and Escape Data` - Remove special characters.
- `Validate all Inputs` - Treat user input as untrusted and filter.
- `Implement Digital Identity` - Use multifactor authentication, secure password storage and recovery, and session handling.
- `Enforce Access Controls` - Require all requests to go through access control checks, deny by default, and apply principle of least privilege.
- `Protect Data Everywhere` - use encryption always.
- `Implement Security Logging and Monitoring` - helps detect problems.
- `Handle All Errors and Exceptions` - errors should not provide sensitive data and applications should be tested.

## API Security

`Application Programming Interfaces (APIs)` are interfaces between clients and servers or applications and operating systems that define how the client should ask for information and how the server will respond. Programs written in any language can implement the API and make requests.

APIs can be a vulnerability and should be secured via:

- Authentication
- Authorization
- Proper data scoping
- Rate limiting
- Input filtering
- Monitoring and logging

---

# Software Security Testing

There will always be some type of flaw in code.There are numerous tools and testing methods today to help address this issue.

## Analyzing and Testing Code

`Static code analysis` is conducted by reviewing the code for an application. This is a known-environment style test, since it has access to the source code. The program is not run in these tests. The analysis focuses on understanding how the program is written and what it is intended to do. Can be done with automated tools or through manual review.

`Dynamic code analysis` relies on executing code with provided inputs. Can be done with automated tools or manually (automated is prefered due to the volume of tests it can handle).

`Fuzzing` or `Fuzz testing` involves sending random or invalid data to an application to test how it handles it. It monitors the application for crashes, fails, or whether it responds incorrectly. Fuzzing is typically automated. However, it does not always detect complex problems.

---

# Injection Vulnerabilities

`Injection Vulnerabilities` are a primary attack method. It allows an attacker to supply code to the web application as input to trick the server into either executing that code or supplying it to another server to execute.

## SQL Injection Attacks

User input is often used to query a database. A simple search query might be:

```sql
SELECT ItemName, ItemDescription, ItemPrice
FROM Products
WHERE ItemName LIKE '%orange%' AND
ItemName LIKE '%tiger%' AND
ItemName LIKE '%pillow%'
```

An `SQL injection (SQLi)` attack may send unusual requests instead:

```sql
orange tiger pillow'; SELECT CustomerName, CreditCardNumber FROM Orders; --
```

The server may respond with the following:

```sql
SELECT ItemName, ItemDescription, ItemPrice
FROM Products
WHERE ItemName LIKE '%orange%' AND
ItemName LIKE '%tiger%' AND
ItemName LIKE '%pillow';
SELECT CustomerName, CreditCardNumber
FROM Orders;
--%'
```

If this is allowed through, the server may run two different SQL queries. The second query (after the `;`) would retrieve customer names and credit card numbers.

While many web applications do not necessarly show the attacker the SQL response, an attacker can use `blind SQL injection` to conduct an attack even when they can't see the results directly. There are two types of blind SQL injection attacks:

1. `Content-based blind SQL injection attack` - the attacker sends input to the web application to test whether the application is interpreting injected code.

# Exploiting Authentication Vulnerabilities

# Exploiting Authorization Vulnerabilities

# Exploiting Web Application Vulnerabilities

# Application Security Controls

# Secure Coding Practices

# Automation and Orchestration

# Summary

# Exam Notes

1. Know that static testing analyzes code without executing it. This approach points developers directly at vulnerabilities and often provides specific remediation suggestions. Dynamic testing executes code as part of the test, running all the interfaces that the code exposes to the user with a variety of inputs, searching for vulnerabilities.

```

```
